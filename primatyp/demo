import liblim
eng1, eng2 = liblim.LimStore.make_engine(), liblim.LimStore.make_engine()
ses1, ses2 = liblim.LimStore.make_session(eng1), liblim.LimStore.make_session(eng2)
uuid = liblim.Votes.create_votes(ses1.session)
ses1.session.commit()
liblim.Votes.format_all(ses1.session), liblim.Votes.format_all(ses2.session)
ses1.sync(ses2)
liblim.Votes.format_all(ses1.session), liblim.Votes.format_all(ses2.session)
o = ses1.get_obj('lim.hack.votes', uuid)
o.up()
ses1.session.add(o)
ses1.session.commit()
liblim.Votes.format_all(ses1.session), liblim.Votes.format_all(ses2.session)
o = ses2.get_obj('lim.hack.votes', uuid)
o.up()
o.up()
ses2.session.add(o)
ses2.session.commit()
liblim.Votes.format_all(ses1.session), liblim.Votes.format_all(ses2.session)
ses1.sync(ses2)
liblim.Votes.format_all(ses1.session), liblim.Votes.format_all(ses2.session)
